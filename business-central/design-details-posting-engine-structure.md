---
title: Design Details - Posting Engine Structure | Microsoft Docs
description: Posting interface and some other functions in codeunit 12 use posting engine functions to prepare and insert general ledger entry and VAT entry records. The posting engine is also responsible for general ledger register creation.
services: project-madeira
documentationcenter: ''
author: SorenGP
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 10/01/2018
ms.author: sgroespe
ms.openlocfilehash: 58a319db86be7a93467a624b56fafc0da122c7fb
ms.sourcegitcommit: e10de72476c6a6e0cbd35bcb714a29b535c39f0e
ms.translationtype: HT
ms.contentlocale: en-GB
ms.lasthandoff: 01/21/2019
ms.locfileid: "254327"
---
# <a name="design-details-posting-engine-structure"></a><span data-ttu-id="8ffeb-104">Design Details: Posting Engine Structure</span><span class="sxs-lookup"><span data-stu-id="8ffeb-104">Design Details: Posting Engine Structure</span></span>
<span data-ttu-id="8ffeb-105">Posting interface and some other functions in codeunit 12 use posting engine functions to prepare and insert general ledger entry and VAT entry records.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-105">Posting interface and some other functions in codeunit 12 use posting engine functions to prepare and insert general ledger entry and VAT entry records.</span></span> <span data-ttu-id="8ffeb-106">The posting engine is also responsible for general ledger register creation.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-106">The posting engine is also responsible for general ledger register creation.</span></span>  
  
 <span data-ttu-id="8ffeb-107">The functions in the following table provide a standard framework for designing posting procedures (such as Code, CustPostApplyCustledgEntry, VendPostApplyVendLedgEntry, UnapplyCustLedgEntry, UnapplyVendLedgEntry, and Reverse) and exclusive access to table 17, G/L Entry.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-107">The functions in the following table provide a standard framework for designing posting procedures (such as Code, CustPostApplyCustledgEntry, VendPostApplyVendLedgEntry, UnapplyCustLedgEntry, UnapplyVendLedgEntry, and Reverse) and exclusive access to table 17, G/L Entry.</span></span>  
  
|<span data-ttu-id="8ffeb-108">Routine</span><span class="sxs-lookup"><span data-stu-id="8ffeb-108">Routine</span></span>|<span data-ttu-id="8ffeb-109">Description</span><span class="sxs-lookup"><span data-stu-id="8ffeb-109">Description</span></span>|  
|-------------|---------------------------------------|  
|<span data-ttu-id="8ffeb-110">StartPosting</span><span class="sxs-lookup"><span data-stu-id="8ffeb-110">StartPosting</span></span>|<span data-ttu-id="8ffeb-111">Initializes posting buffer TempGLEntryBuf, locks G/L Entry and VAT Entry tables, and initializes Accounting Period, G/L Register, and Exchange Rate.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-111">Initializes posting buffer TempGLEntryBuf, locks G/L Entry and VAT Entry tables, and initializes Accounting Period, G/L Register, and Exchange Rate.</span></span> <span data-ttu-id="8ffeb-112">Should be called only once, then NextEntryNo is 0.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-112">Should be called only once, then NextEntryNo is 0.</span></span>|  
|<span data-ttu-id="8ffeb-113">ContinuePosting</span><span class="sxs-lookup"><span data-stu-id="8ffeb-113">ContinuePosting</span></span>|<span data-ttu-id="8ffeb-114">Checks and posts unrealized VAT for previous transaction increment NextTransactionNo and prepares post of next line.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-114">Checks and posts unrealized VAT for previous transaction increment NextTransactionNo and prepares post of next line.</span></span>|  
|<span data-ttu-id="8ffeb-115">FinishPosting</span><span class="sxs-lookup"><span data-stu-id="8ffeb-115">FinishPosting</span></span>|<span data-ttu-id="8ffeb-116">Completes posting by inserting G/L entries from temporary buffer into database table.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-116">Completes posting by inserting G/L entries from temporary buffer into database table.</span></span> <span data-ttu-id="8ffeb-117">Always used together with StartPosting.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-117">Always used together with StartPosting.</span></span> <span data-ttu-id="8ffeb-118">Checks for inconsistencies.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-118">Checks for inconsistencies.</span></span>|  
|<span data-ttu-id="8ffeb-119">InitGLEntry</span><span class="sxs-lookup"><span data-stu-id="8ffeb-119">InitGLEntry</span></span>|<span data-ttu-id="8ffeb-120">Used to initialise new G/L entry for Gen. Jnl Line.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-120">Used to initialize new G/L entry for Gen. Jnl Line.</span></span> <span data-ttu-id="8ffeb-121">Returns GLEntry as parameter.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-121">Returns GLEntry as parameter.</span></span>|  
|<span data-ttu-id="8ffeb-122">InitGLEntryVAT</span><span class="sxs-lookup"><span data-stu-id="8ffeb-122">InitGLEntryVAT</span></span>|<span data-ttu-id="8ffeb-123">Same as InitGLEntry, but also assigns Bal. Account No. and SummarizeVAT.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-123">Same as InitGLEntry, but also assigns Bal. Account No. and SummarizeVAT.</span></span>|  
|<span data-ttu-id="8ffeb-124">InitGLEntryVATCopy</span><span class="sxs-lookup"><span data-stu-id="8ffeb-124">InitGLEntryVATCopy</span></span>|<span data-ttu-id="8ffeb-125">Similar to InitGLEntryVAT, but also copies posting groups data from VAT Entry before SummarizeVAT.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-125">Similar to InitGLEntryVAT, but also copies posting groups data from VAT Entry before SummarizeVAT.</span></span>|  
|<span data-ttu-id="8ffeb-126">InsertGLEntry</span><span class="sxs-lookup"><span data-stu-id="8ffeb-126">InsertGLEntry</span></span>|<span data-ttu-id="8ffeb-127">The only function that inserts G/L entry into global TempGLEntryBuf table.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-127">The only function that inserts G/L entry into global TempGLEntryBuf table.</span></span> <span data-ttu-id="8ffeb-128">Always use this function for insert.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-128">Always use this function for insert.</span></span>|  
|<span data-ttu-id="8ffeb-129">CreateGLEntry</span><span class="sxs-lookup"><span data-stu-id="8ffeb-129">CreateGLEntry</span></span>|<span data-ttu-id="8ffeb-130">Performs an InitGLEntry, assigns Additional Currency Amount, and then performs InsertGLEntry.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-130">Performs an InitGLEntry, assigns Additional Currency Amount, and then performs InsertGLEntry.</span></span> <span data-ttu-id="8ffeb-131">Replaces several lines of code with a single function call.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-131">Replaces several lines of code with a single function call.</span></span>|  
|<span data-ttu-id="8ffeb-132">CreateGLEntryBalAcc</span><span class="sxs-lookup"><span data-stu-id="8ffeb-132">CreateGLEntryBalAcc</span></span>|<span data-ttu-id="8ffeb-133">Same as CreateGLEntry, but also assigns Bal. Account Type and Bal. Account No.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-133">Same as CreateGLEntry, but also assigns Bal. Account Type and Bal. Account No.</span></span>|  
|<span data-ttu-id="8ffeb-134">CreateGLEntryVAT</span><span class="sxs-lookup"><span data-stu-id="8ffeb-134">CreateGLEntryVAT</span></span>|<span data-ttu-id="8ffeb-135">Same as CreateGLEntry, but with additional processing for posting groups and saving to temporary VAT buffer:</span><span class="sxs-lookup"><span data-stu-id="8ffeb-135">Same as CreateGLEntry, but with additional processing for posting groups and saving to temporary VAT buffer:</span></span><br /><br /> `GLEntry.CopyPostingGroupsFromDtldCVBuf(DtldCVLedgEntryBuf,GenJnlLine."Gen. Posting Type");`<br /><br /> `InsertVATEntriesFromTemp(DtldCVLedgEntryBuf,GLEntry);`|  
|<span data-ttu-id="8ffeb-136">CreateGLEntryVATCollectAdj</span><span class="sxs-lookup"><span data-stu-id="8ffeb-136">CreateGLEntryVATCollectAdj</span></span>|<span data-ttu-id="8ffeb-137">Same as CreateGLEntry, but with additional collection of adjustments and saving to temporary VAT buffer:</span><span class="sxs-lookup"><span data-stu-id="8ffeb-137">Same as CreateGLEntry, but with additional collection of adjustments and saving to temporary VAT buffer:</span></span><br /><br /> `CollectAdjustment(AdjAmount,GLEntry.Amount,GLEntry."Additional-Currency Amount",OriginalDateSet);`<br /><br /> `InsertVATEntriesFromTemp(DtldCVLedgEntryBuf,GLEntry);`|  
|<span data-ttu-id="8ffeb-138">CreateGLEntryFromVATEntry</span><span class="sxs-lookup"><span data-stu-id="8ffeb-138">CreateGLEntryFromVATEntry</span></span>|<span data-ttu-id="8ffeb-139">Same as CreateGLEntry, but also copies posting groups from VAT entry.</span><span class="sxs-lookup"><span data-stu-id="8ffeb-139">Same as CreateGLEntry, but also copies posting groups from VAT entry.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="8ffeb-140">See Also</span><span class="sxs-lookup"><span data-stu-id="8ffeb-140">See Also</span></span>  
 [<span data-ttu-id="8ffeb-141">Design Details: Posting Interface Structure</span><span class="sxs-lookup"><span data-stu-id="8ffeb-141">Design Details: Posting Interface Structure</span></span>](design-details-posting-interface-structure.md)